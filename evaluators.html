<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="skeval.metrics" href="metrics.html" /><link rel="prev" title="skeval.base" href="base.html" />
        <link rel="canonical" href="https://scikit-autoeval.github.io/scikit-autoeval/evaluators.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>skeval.evaluators - scikit-autoeval 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">scikit-autoeval 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">skeval</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of skeval</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="base.html">skeval.base</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">skeval.evaluators</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">skeval.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">skeval.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">skeval.examples</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/scikit-autoeval/scikit-autoeval/blob/main/docs/evaluators.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/scikit-autoeval/scikit-autoeval/edit/main/docs/evaluators.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="skeval-evaluators">
<h1>skeval.evaluators<a class="headerlink" href="#skeval-evaluators" title="Link to this heading">¶</a></h1>
<section id="module-evaluators.confidence">
<span id="confidencethresholdevaluator"></span><h2>ConfidenceThresholdEvaluator<a class="headerlink" href="#module-evaluators.confidence" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evaluators.confidence.</span></span><span class="sig-name descname"><span class="pre">ConfidenceThresholdEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;function</span> <span class="pre">accuracy_score&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold=0.65</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_to_top_class=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/confidence.html#ConfidenceThresholdEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#skeval.base.BaseEvaluator" title="skeval.base.BaseEvaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEvaluator</span></code></a></p>
<p>Confidence-based evaluator for classification models.</p>
<p>This evaluator filters the predictions of a classification model based on a
confidence threshold. Only predictions with a confidence greater than or
equal to the specified threshold are considered for scoring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>object</em>) – Any model with <cite>fit</cite>, <cite>predict</cite>, and <cite>predict_proba</cite> or
<cite>decision_function</cite> methods.</p></li>
<li><p><strong>scorer</strong> (<em>callable</em><em> or </em><em>dict</em><em> of </em><em>str -&gt; callable</em><em>, </em><em>default=accuracy_score</em>) – An evaluation function or a dictionary of multiple evaluation functions.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>default=0.8</em>) – The minimum confidence required to include a prediction in the calculation.</p></li>
<li><p><strong>limit_to_top_class</strong> (<em>bool</em><em>, </em><em>default=True</em>) – If True, uses only the probability of the top class as the confidence score.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, prints additional information during evaluation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.model">
<span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.model" title="Link to this definition">¶</a></dt>
<dd><p>The model passed in the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.scorer">
<span class="sig-name descname"><span class="pre">scorer</span></span><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.scorer" title="Link to this definition">¶</a></dt>
<dd><p>The scoring function(s) passed in the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable or dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.threshold" title="Link to this definition">¶</a></dt>
<dd><p>The confidence threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.limit_to_top_class">
<span class="sig-name descname"><span class="pre">limit_to_top_class</span></span><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.limit_to_top_class" title="Link to this definition">¶</a></dt>
<dd><p>Indicates if confidence is based solely on the highest probability class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.verbose" title="Link to this definition">¶</a></dt>
<dd><p>The verbosity level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Sample data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">5.5</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 1. Create and train a standard classifier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s1">&#39;liblinear&#39;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="go">LogisticRegression(random_state=0, solver=&#39;liblinear&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2. Create the evaluator with the trained classifier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scorings</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;precision&#39;</span><span class="p">:</span> <span class="n">precision_score</span><span class="p">,</span> <span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="n">recall_score</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf_eval</span> <span class="o">=</span> <span class="n">ConfidenceThresholdEvaluator</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">=</span><span class="n">classifier</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">scorer</span><span class="o">=</span><span class="n">scorings</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">threshold</span><span class="o">=</span><span class="mf">0.9</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3. The fit method is for compatibility, not strictly needed here</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    since the model is already trained.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf_eval</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="go">ConfidenceThresholdEvaluator(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 4. Estimate the performance on the test set</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#    The evaluator will internally call classifier.predict_proba(X_test)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">conf_eval</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">score_name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">scores</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">score_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">precision: 1.00</span>
<span class="go">recall: 1.00</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_eval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/confidence.html#ConfidenceThresholdEvaluator.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.estimate" title="Link to this definition">¶</a></dt>
<dd><p>Estimates scores based on the confidence threshold.</p>
<p>This method calculates the prediction confidences, filters out those
that do not meet the threshold, and then computes the score(s)
specified in the <cite>scorer</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X_eval</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – Input data for which to estimate scores.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A dictionary with estimated scores for each scorer.</p>
<p>If no predictions pass the threshold, it returns 0.0 for each scorer.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evaluators.confidence.ConfidenceThresholdEvaluator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/confidence.html#ConfidenceThresholdEvaluator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.confidence.ConfidenceThresholdEvaluator.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fits the model to the training data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – The training input samples.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em>) – The target labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – Returns the instance itself.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-evaluators.regression">
<span id="regressionevaluator"></span><h2>RegressionEvaluator<a class="headerlink" href="#module-evaluators.regression" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evaluators.regression.RegressionEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evaluators.regression.</span></span><span class="sig-name descname"><span class="pre">RegressionEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;function</span> <span class="pre">accuracy_score&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_regressor=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_splits=5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/regression.html#RegressionEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.regression.RegressionEvaluator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#skeval.base.BaseEvaluator" title="skeval.base.BaseEvaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEvaluator</span></code></a></p>
<p>Regression-based evaluator for classification models.</p>
<p>This evaluator estimates the performance of a classification model (e.g.,
accuracy, precision) without requiring labeled test data. It works by
training a meta-regressor (e.g., Random Forest) that learns to map
meta-features, extracted from a classifier’s probability distributions,
to its true performance score on unseen data.</p>
<p>To use this evaluator, it must first be fitted on a collection of diverse
datasets using the same model type to learn this mapping robustly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>object</em>) – An unfitted classifier instance that will be used as the base model.
Clones of this model will be trained during the <cite>fit</cite> process and
the same model type must later be fitted manually before <cite>estimate</cite>.</p></li>
<li><p><strong>meta_regressor</strong> (<em>object</em><em>, </em><em>default=None</em>) – A regression model implementing <cite>fit</cite> and <cite>predict</cite>. If None, a
<cite>RandomForestRegressor</cite> with 500 trees is used for each scorer.</p></li>
<li><p><strong>n_splits</strong> (<em>int</em><em>, </em><em>default=5</em>) – Number of random splits per dataset to generate multiple meta-examples.</p></li>
<li><p><strong>scorer</strong> (<em>callable</em><em> or </em><em>dict</em><em> of </em><em>str -&gt; callable</em><em>, </em><em>default=accuracy_score</em>) – The performance metric(s) to estimate. If a dictionary is provided, a
separate meta-regressor will be trained to estimate each metric.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, prints informational messages during the training of the
meta-regressors and during estimation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.regression.RegressionEvaluator.meta_regressors_">
<span class="sig-name descname"><span class="pre">meta_regressors_</span></span><a class="headerlink" href="#evaluators.regression.RegressionEvaluator.meta_regressors_" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary mapping each scorer’s name to its fitted meta-regressor
instance. This attribute is populated after the <cite>fit</cite> method is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">skeval.evaluators.regression</span><span class="w"> </span><span class="kn">import</span> <span class="n">RegressionEvaluator</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_list</span><span class="p">,</span> <span class="n">y_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">],</span> <span class="p">[</span><span class="n">iris</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span> <span class="o">=</span> <span class="n">RegressionEvaluator</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">=</span><span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scorer</span><span class="o">=</span><span class="n">accuracy_score</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">)</span>
<span class="go">RegressionEvaluator(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Train a final model manually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">final_model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">final_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">estimated_scores</span> <span class="o">=</span> <span class="n">evaluator</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">estimated_scores</span><span class="p">)</span>
<span class="go">{&#39;score&#39;: ...}</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="evaluators.regression.RegressionEvaluator.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_eval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/regression.html#RegressionEvaluator.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.regression.RegressionEvaluator.estimate" title="Link to this definition">¶</a></dt>
<dd><p>Estimates the performance of the current model on unlabeled data.</p>
<p>The model assigned to <cite>self.model</cite> must already be a fitted classifier
(manually trained by the user). This method extracts meta-features from
its predictions on the unlabeled data <cite>X_eval</cite> and uses the pre-trained
meta-regressor(s) to predict the performance scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X_eval</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em>) – The unlabeled input data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the estimated scores, where keys are the names
of the scorers and values are the predicted performance scores.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RuntimeError</strong> – If the <cite>estimate</cite> method is called before the evaluator has been
    fitted with the <cite>fit</cite> method.</p></li>
<li><p><strong>ValueError</strong> – If <cite>self.model</cite> does not implement <cite>predict_proba</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evaluators.regression.RegressionEvaluator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/regression.html#RegressionEvaluator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.regression.RegressionEvaluator.fit" title="Link to this definition">¶</a></dt>
<dd><p>Trains the internal meta-regressor(s) using a single model type.</p>
<p>This method builds a meta-dataset to train the evaluator. For each dataset,
it performs multiple random splits to increase the number of meta-examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>list</em><em> of </em><em>array-like</em>) – A list of datasets (features) used to train the meta-model.</p></li>
<li><p><strong>y</strong> (<em>list</em><em> of </em><em>array-like</em>) – A list of labels corresponding to <cite>X</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – The fitted evaluator instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-evaluators.regression_noise">
<span id="regressionnoiseevaluator"></span><h2>RegressionNoiseEvaluator<a class="headerlink" href="#module-evaluators.regression_noise" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evaluators.regression_noise.RegressionNoiseEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evaluators.regression_noise.</span></span><span class="sig-name descname"><span class="pre">RegressionNoiseEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;function</span> <span class="pre">accuracy_score&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_regressor=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_splits=5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/regression_noise.html#RegressionNoiseEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.regression_noise.RegressionNoiseEvaluator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RegressionEvaluator</span></code></p>
<p>Regression-based evaluator for classification models.</p>
<p>This evaluator estimates the performance of a classification model (e.g.,
accuracy, precision) without requiring labeled test data. It works by
training a meta-regressor (e.g., Random Forest) that learns to map
meta-features, extracted from a classifier’s probability distributions,
to its true performance score on unseen data.</p>
<p>To use this evaluator, it must first be fitted on a collection of diverse
datasets using the same model type to learn this mapping robustly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>object</em>) – An unfitted classifier instance that will be used as the base model.
Clones of this model will be trained during the <cite>fit</cite> process and
the same model type must later be fitted manually before <cite>estimate</cite>.</p></li>
<li><p><strong>meta_regressor</strong> (<em>object</em><em>, </em><em>default=None</em>) – A regression model implementing <cite>fit</cite> and <cite>predict</cite>. If None, a
<cite>RandomForestRegressor</cite> with 500 trees is used for each scorer.</p></li>
<li><p><strong>n_splits</strong> (<em>int</em><em>, </em><em>default=5</em>) – Number of random splits per dataset to generate multiple meta-examples.</p></li>
<li><p><strong>scorer</strong> (<em>callable</em><em> or </em><em>dict</em><em> of </em><em>str -&gt; callable</em><em>, </em><em>default=accuracy_score</em>) – The performance metric(s) to estimate. If a dictionary is provided, a
separate meta-regressor will be trained to estimate each metric.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, prints informational messages during the training of the
meta-regressors and during estimation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.regression_noise.RegressionNoiseEvaluator.meta_regressors_">
<span class="sig-name descname"><span class="pre">meta_regressors_</span></span><a class="headerlink" href="#evaluators.regression_noise.RegressionNoiseEvaluator.meta_regressors_" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary mapping each scorer’s name to its fitted meta-regressor
instance. This attribute is populated after the <cite>fit</cite> method is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">skeval.evaluators.regression</span><span class="w"> </span><span class="kn">import</span> <span class="n">RegressionBasedEvaluator</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_list</span><span class="p">,</span> <span class="n">y_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">],</span> <span class="p">[</span><span class="n">iris</span><span class="o">.</span><span class="n">target</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span> <span class="o">=</span> <span class="n">RegressionBasedEvaluator</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">model</span><span class="o">=</span><span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scorer</span><span class="o">=</span><span class="n">accuracy_score</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_list</span><span class="p">,</span> <span class="n">y_list</span><span class="p">)</span>
<span class="go">RegressionBasedEvaluator(...)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Train a final model manually</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">final_model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">final_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">estimated_scores</span> <span class="o">=</span> <span class="n">evaluator</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">estimated_scores</span><span class="p">)</span>
<span class="go">{&#39;score&#39;: ...}</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="evaluators.regression_noise.RegressionNoiseEvaluator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_noise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/regression_noise.html#RegressionNoiseEvaluator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.regression_noise.RegressionNoiseEvaluator.fit" title="Link to this definition">¶</a></dt>
<dd><p>Trains the internal meta-regressor(s) using a single model type.</p>
<p>This method builds a meta-dataset to train the evaluator. For each dataset,
it performs multiple random splits to increase the number of meta-examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>list</em><em> of </em><em>array-like</em>) – A list of datasets (features) used to train the meta-model.</p></li>
<li><p><strong>y</strong> (<em>list</em><em> of </em><em>array-like</em>) – A list of labels corresponding to <cite>X</cite>.</p></li>
<li><p><strong>start_noise</strong> (<em>int</em><em>, </em><em>default=10</em>) – The starting percentage of label noise to introduce in the holdout set.</p></li>
<li><p><strong>end_noise</strong> (<em>int</em><em>, </em><em>default=100</em>) – The ending percentage of label noise to introduce in the holdout set.</p></li>
<li><p><strong>step_noise</strong> (<em>int</em><em>, </em><em>default=10</em>) – The step size for increasing the percentage of label noise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – The fitted evaluator instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evaluators.regression_noise.RegressionNoiseEvaluator.set_fit_request">
<span class="sig-name descname"><span class="pre">set_fit_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'$UNCHANGED$'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'$UNCHANGED$'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'$UNCHANGED$'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#evaluators.regression_noise.RegressionNoiseEvaluator" title="evaluators.regression_noise.RegressionNoiseEvaluator"><span class="pre">RegressionNoiseEvaluator</span></a></span></span><a class="headerlink" href="#evaluators.regression_noise.RegressionNoiseEvaluator.set_fit_request" title="Link to this definition">¶</a></dt>
<dd><p>Request metadata passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> method.</p>
<p>Note that this method is only relevant if
<code class="docutils literal notranslate"><span class="pre">enable_metadata_routing=True</span></code> (see <code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.set_config()</span></code>).
Please see <span class="xref std std-ref">User Guide</span> on how the routing
mechanism works.</p>
<p>The options for each parameter are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: metadata is requested, and passed to <code class="docutils literal notranslate"><span class="pre">fit</span></code> if provided. The request is ignored if metadata is not provided.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: metadata is not requested and the meta-estimator will not pass it to <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: metadata is not requested, and the meta-estimator will raise an error if the user provides it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: metadata should be passed to the meta-estimator with this given alias instead of the original name.</p></li>
</ul>
<p>The default (<code class="docutils literal notranslate"><span class="pre">sklearn.utils.metadata_routing.UNCHANGED</span></code>) retains the
existing request. This allows you to change the request for some
parameters and not others.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is only relevant if this estimator is used as a
sub-estimator of a meta-estimator, e.g. used inside a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code>. Otherwise it has no effect.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>end_noise</strong> (<em>str</em><em>, </em><em>True</em><em>, </em><em>False</em><em>, or </em><em>None</em><em>,                     </em><em>default=sklearn.utils.metadata_routing.UNCHANGED</em>) – Metadata routing for <code class="docutils literal notranslate"><span class="pre">end_noise</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>start_noise</strong> (<em>str</em><em>, </em><em>True</em><em>, </em><em>False</em><em>, or </em><em>None</em><em>,                     </em><em>default=sklearn.utils.metadata_routing.UNCHANGED</em>) – Metadata routing for <code class="docutils literal notranslate"><span class="pre">start_noise</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><strong>step_noise</strong> (<em>str</em><em>, </em><em>True</em><em>, </em><em>False</em><em>, or </em><em>None</em><em>,                     </em><em>default=sklearn.utils.metadata_routing.UNCHANGED</em>) – Metadata routing for <code class="docutils literal notranslate"><span class="pre">step_noise</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – The updated object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-evaluators.agreement">
<span id="agreementevaluator"></span><h2>AgreementEvaluator<a class="headerlink" href="#module-evaluators.agreement" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evaluators.agreement.AgreementEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evaluators.agreement.</span></span><span class="sig-name descname"><span class="pre">AgreementEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;function</span> <span class="pre">accuracy_score&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sec_model=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/agreement.html#AgreementEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.agreement.AgreementEvaluator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#skeval.base.BaseEvaluator" title="skeval.base.BaseEvaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEvaluator</span></code></a></p>
<p>Evaluator based on agreement/disagreement between the target model (M)
and a secondary model (M’).</p>
<dl class="simple">
<dt>The agreement is computed as:</dt><dd><p>1 if the prediction of M equals the prediction of M’ for an instance,
0 otherwise.</p>
</dd>
</dl>
<p>The secondary model is set to Naive Bayes by default, but can be replaced
by any other classifier.</p>
<dl class="py method">
<dt class="sig sig-object py" id="evaluators.agreement.AgreementEvaluator.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_eval</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/agreement.html#AgreementEvaluator.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.agreement.AgreementEvaluator.estimate" title="Link to this definition">¶</a></dt>
<dd><p>Estimate the agreement score between the main and secondary models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X_eval</strong> (<em>array-like</em>) – Feature matrix (not used, kept for interface consistency).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scores</strong> – Agreement score(s) computed using the provided scorer(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evaluators.agreement.AgreementEvaluator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/agreement.html#AgreementEvaluator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.agreement.AgreementEvaluator.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit the evaluator by generating predictions from both models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em>) – Feature matrix.</p></li>
<li><p><strong>y</strong> (<em>array-like</em>) – Target vector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-evaluators.shap">
<span id="shapevaluator"></span><h2>ShapEvaluator<a class="headerlink" href="#module-evaluators.shap" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">evaluators.shap.</span></span><span class="sig-name descname"><span class="pre">ShapEvaluator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer=&lt;function</span> <span class="pre">accuracy_score&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_clf=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_train=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/shap.html#ShapEvaluator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.shap.ShapEvaluator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="base.html#skeval.base.BaseEvaluator" title="skeval.base.BaseEvaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEvaluator</span></code></a></p>
<p>SHAP-based evaluator for supervised classification models.</p>
<p>This evaluator uses SHAP values computed from a tree-based classifier to
train a secondary model that predicts the correctness of the original
classifier’s predictions. The predicted correctness on the evaluation set
is used to generate an expected label vector, which is then compared with
the model predictions to estimate the chosen metric(s).</p>
<p>The evaluation process follows four steps:
(1) compute SHAP values on the training and evaluation sets,
(2) train a correctness classifier using SHAP values as input,
(3) predict correctness for evaluation samples,
(4) flip labels where the model is predicted to be wrong, generating an
“expected label” vector used to estimate metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>estimator</em>) – A classification model implementing <code class="docutils literal notranslate"><span class="pre">fit</span></code> and <code class="docutils literal notranslate"><span class="pre">predict</span></code>. For SHAP
computation using <code class="docutils literal notranslate"><span class="pre">TreeExplainer</span></code>. Compatible with <code class="docutils literal notranslate"><span class="pre">sklearn.make_pipeline</span></code>.</p></li>
<li><p><strong>scorer</strong> (<em>callable</em><em> or </em><em>dict</em><em> of </em><em>str -&gt; callable</em><em>, </em><em>default=accuracy_score</em>) – A scoring function or a dictionary mapping metric names to scoring
functions. Scorers must follow the signature <code class="docutils literal notranslate"><span class="pre">scorer(y_true,</span> <span class="pre">y_pred)</span></code>.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, prints additional progress information.</p></li>
<li><p><strong>inner_clf</strong> (<em>estimator</em><em>, </em><em>optional</em>) – Classifier trained on SHAP values to estimate correctness. If None,
defaults to <code class="docutils literal notranslate"><span class="pre">XGBClassifier(random_state=42)</span></code>.</p></li>
<li><p><strong>X_train</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Training features used to compute SHAP values.</p></li>
<li><p><strong>y_train</strong> (<em>array-like</em><em>, </em><em>optional</em>) – Training labels used to compute SHAP values.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.model">
<span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#evaluators.shap.ShapEvaluator.model" title="Link to this definition">¶</a></dt>
<dd><p>The model provided at initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>estimator</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.inner_clf">
<span class="sig-name descname"><span class="pre">inner_clf</span></span><a class="headerlink" href="#evaluators.shap.ShapEvaluator.inner_clf" title="Link to this definition">¶</a></dt>
<dd><p>The classifier used to model correctness from SHAP values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>estimator</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.explainer">
<span class="sig-name descname"><span class="pre">explainer</span></span><a class="headerlink" href="#evaluators.shap.ShapEvaluator.explainer" title="Link to this definition">¶</a></dt>
<dd><p>Object responsible for computing SHAP values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>shap.TreeExplainer</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.X_train">
<span class="sig-name descname"><span class="pre">X_train</span></span><a class="headerlink" href="#evaluators.shap.ShapEvaluator.X_train" title="Link to this definition">¶</a></dt>
<dd><p>Feature matrix used to compute SHAP values for correctness learning.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of shape (n_samples, n_features)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.y_train">
<span class="sig-name descname"><span class="pre">y_train</span></span><a class="headerlink" href="#evaluators.shap.ShapEvaluator.y_train" title="Link to this definition">¶</a></dt>
<dd><p>Ground-truth labels corresponding to <code class="docutils literal notranslate"><span class="pre">X_train</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of shape (n_samples,)</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p><em>SHAP computation requirement:</em>
The final estimator in <code class="docutils literal notranslate"><span class="pre">model</span></code> (or the estimator itself, if not a
pipeline) must be compatible with <code class="docutils literal notranslate"><span class="pre">shap.TreeExplainer</span></code>.</p>
<p><em>Estimate method:</em>
The method performs multiple correctness predictions and averages the
resulting estimated metrics. This introduces stochasticity and aims to
approximate uncertainty in the correctness model.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">skeval.evaluators</span><span class="w"> </span><span class="kn">import</span> <span class="n">ShapEvaluator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">xgboost</span><span class="w"> </span><span class="kn">import</span> <span class="n">XGBClassifier</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;dataset_train.csv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;dataset_test.csv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">df_train</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]),</span> <span class="n">df_train</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X_test</span> <span class="o">=</span> <span class="n">df_test</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">XGBClassifier</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span> <span class="o">=</span> <span class="n">ShapEvaluator</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scorer</span><span class="o">=</span><span class="n">accuracy_score</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">evaluator</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scores</span> <span class="o">=</span> <span class="n">evaluator</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
<span class="go">0.84</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.estimate">
<span class="sig-name descname"><span class="pre">estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_eval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_pred</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/shap.html#ShapEvaluator.estimate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.shap.ShapEvaluator.estimate" title="Link to this definition">¶</a></dt>
<dd><p>Estimate metric values using SHAP-based correctness prediction.</p>
<p>This method computes SHAP values for the training set and the evaluation
set, trains a correctness classifier on the training SHAP values, and
predicts correctness for evaluation samples. Labels predicted as
incorrect are flipped to produce an expected label vector, which is
compared against the model’s predictions to estimate the target metrics.</p>
<p>Multiple iterations are performed to model uncertainty, and the final
metric is obtained by averaging scores across all iterations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_eval</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_eval_samples</em><em>, </em><em>n_features</em><em>)</em>) – Evaluation feature matrix used to generate predictions and SHAP
values.</p></li>
<li><p><strong>n_pred</strong> (<em>int</em><em>, </em><em>default=30</em>) – Number of estimation iterations. In each iteration, a correctness
classifier is retrained and used to produce an estimated metric.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary mapping metric names to averaged estimated values.
If a single scorer was provided, the dictionary contains a single
entry with key <code class="docutils literal notranslate"><span class="pre">'score'</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If training data (<cite>X_train</cite>, <cite>y_train</cite>) is missing, preventing SHAP
    computation.</p></li>
<li><p><strong>ValueError</strong> – If the provided scorer is neither a callable nor a dictionary of
    callables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="evaluators.shap.ShapEvaluator.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/evaluators/shap.html#ShapEvaluator.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#evaluators.shap.ShapEvaluator.fit" title="Link to this definition">¶</a></dt>
<dd><p>Fit the model used by the evaluator.</p>
<p>If <cite>X_train</cite> and <cite>y_train</cite> were provided during initialization, they
take precedence. Otherwise, the provided <cite>X</cite> and <cite>y</cite> are stored and
used for computing SHAP values during the estimation step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>, </em><em>n_features</em><em>)</em><em>, </em><em>optional</em>) – Feature matrix used to fit the original model and to compute SHAP
values if <cite>X_train</cite> is not already defined.</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>n_samples</em><em>,</em><em>)</em><em>, </em><em>optional</em>) – Labels corresponding to <cite>X</cite>. Required if no training data was
provided at initialization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – The fitted evaluator instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#evaluators.shap.ShapEvaluator" title="evaluators.shap.ShapEvaluator">ShapEvaluator</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no training data is available (neither from initialization nor
    from arguments), preventing the underlying model from being fitted.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="metrics.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">skeval.metrics</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="base.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">skeval.base</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, scikit-autoeval developers (BSD License).
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">skeval.evaluators</a><ul>
<li><a class="reference internal" href="#module-evaluators.confidence">ConfidenceThresholdEvaluator</a><ul>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator</span></code></a><ul>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.model"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.model</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.scorer"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.scorer</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.threshold"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.threshold</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.limit_to_top_class"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.limit_to_top_class</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.verbose"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.verbose</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.estimate"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.estimate()</span></code></a></li>
<li><a class="reference internal" href="#evaluators.confidence.ConfidenceThresholdEvaluator.fit"><code class="docutils literal notranslate"><span class="pre">ConfidenceThresholdEvaluator.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-evaluators.regression">RegressionEvaluator</a><ul>
<li><a class="reference internal" href="#evaluators.regression.RegressionEvaluator"><code class="docutils literal notranslate"><span class="pre">RegressionEvaluator</span></code></a><ul>
<li><a class="reference internal" href="#evaluators.regression.RegressionEvaluator.meta_regressors_"><code class="docutils literal notranslate"><span class="pre">RegressionEvaluator.meta_regressors_</span></code></a></li>
<li><a class="reference internal" href="#evaluators.regression.RegressionEvaluator.estimate"><code class="docutils literal notranslate"><span class="pre">RegressionEvaluator.estimate()</span></code></a></li>
<li><a class="reference internal" href="#evaluators.regression.RegressionEvaluator.fit"><code class="docutils literal notranslate"><span class="pre">RegressionEvaluator.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-evaluators.regression_noise">RegressionNoiseEvaluator</a><ul>
<li><a class="reference internal" href="#evaluators.regression_noise.RegressionNoiseEvaluator"><code class="docutils literal notranslate"><span class="pre">RegressionNoiseEvaluator</span></code></a><ul>
<li><a class="reference internal" href="#evaluators.regression_noise.RegressionNoiseEvaluator.meta_regressors_"><code class="docutils literal notranslate"><span class="pre">RegressionNoiseEvaluator.meta_regressors_</span></code></a></li>
<li><a class="reference internal" href="#evaluators.regression_noise.RegressionNoiseEvaluator.fit"><code class="docutils literal notranslate"><span class="pre">RegressionNoiseEvaluator.fit()</span></code></a></li>
<li><a class="reference internal" href="#evaluators.regression_noise.RegressionNoiseEvaluator.set_fit_request"><code class="docutils literal notranslate"><span class="pre">RegressionNoiseEvaluator.set_fit_request()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-evaluators.agreement">AgreementEvaluator</a><ul>
<li><a class="reference internal" href="#evaluators.agreement.AgreementEvaluator"><code class="docutils literal notranslate"><span class="pre">AgreementEvaluator</span></code></a><ul>
<li><a class="reference internal" href="#evaluators.agreement.AgreementEvaluator.estimate"><code class="docutils literal notranslate"><span class="pre">AgreementEvaluator.estimate()</span></code></a></li>
<li><a class="reference internal" href="#evaluators.agreement.AgreementEvaluator.fit"><code class="docutils literal notranslate"><span class="pre">AgreementEvaluator.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-evaluators.shap">ShapEvaluator</a><ul>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator</span></code></a><ul>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.model"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.model</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.inner_clf"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.inner_clf</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.explainer"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.explainer</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.X_train"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.X_train</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.y_train"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.y_train</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.estimate"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.estimate()</span></code></a></li>
<li><a class="reference internal" href="#evaluators.shap.ShapEvaluator.fit"><code class="docutils literal notranslate"><span class="pre">ShapEvaluator.fit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=91f6191e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>